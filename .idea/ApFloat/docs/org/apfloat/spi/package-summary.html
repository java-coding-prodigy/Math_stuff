<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (16) on Sat Aug 07 14:55:45 EEST 2021 -->
<title>org.apfloat.spi (Apfloat Documentation)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name="dc.created" content="2021-08-07">
<meta name="description" content="declaration: package: org.apfloat.spi">
<meta name="generator" content="javadoc/PackageWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="package-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar.top">
<div class="skip-nav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.top.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div class="nav-list-search"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip.navbar.top">
<!--   -->
</span></nav>
</header>
<div class="flex-content">
<main role="main">
<div class="header">
<h1 title="Package" class="title">Package&nbsp;org.apfloat.spi</h1>
</div>
<hr>
<div class="package-signature">package <span class="element-name">org.apfloat.spi</span></div>
<section class="package-description" id="package.description">
<div class="block">The apfloat Service Provider Interface (SPI).<p>

The apfloat API is a high-level API that defines algorithms on the level of
e.g. the Newton iteration for the inverse of a number. Behind this high-level
API there is a lot of low-level functionality that makes all the arbitrary
precision arithmetic happen. The digits of a large number are stored in an
array of <code>int</code>s, for example. In fact, an <a href="../Apfloat.html" title="class in org.apfloat"><code>Apfloat</code></a>
is structurally just a pointer to an <a href="ApfloatImpl.html" title="interface in org.apfloat.spi"><code>ApfloatImpl</code></a>, and
most of the functionality of the Apfloat class is simply delegated to the
underlying ApfloatImpl.<p>

The apfloat SPI defines the general interface for the low-level things that
must happen behind the scenes of the high-level API. An actual implementation
of the SPI can be optimized for different things, for example:
<ul>
  <li>Size of numbers: different algorithms are efficient for numbers with
      with 1000 or 1000000 digits. This applies both to the actual storage
      method of the data, and the mathematical algorithms used for e.g.
      multiplying numbers.</li>
  <li>Memory consumption vs. performance: different types of Fast Fourier
      Transform (FFT) based algorithms can be used to find a suitable trade-off
      between memory consumption and performance.</li>
  <li>Hardware architecture: 32-bit and 64-bit systems handle <code>int</code>
      and <code>long</code> type elements correspondingly most efficiently, for
      example. Some systems perform floating-point operations (with
      <code>float</code> or <code>double</code> type elements) faster than
      integer operations (<code>int</code> or <code>long</code>).</li>
  <li>Complexity: a more complex implementation may be optimized for different
      cases, however more code will take more space and use more memory. This
      may be a concern on some systems (e.g. mobile devices).</li>
</ul>

A Service Provider is only required to implement the <a href="BuilderFactory.html" title="interface in org.apfloat.spi"><code>BuilderFactory</code></a>
interface, and actually only the <a href="BuilderFactory.html#getApfloatBuilder()"><code>BuilderFactory.getApfloatBuilder()</code></a>
method in this interface. All apfloat implementations (<a href="ApfloatImpl.html" title="interface in org.apfloat.spi"><code>ApfloatImpl</code></a>)
are created through the <a href="ApfloatBuilder.html" title="interface in org.apfloat.spi"><code>ApfloatBuilder</code></a> interface's
methods. The rest of the interfaces in the SPI exist only for the convenience
of the default apfloat SPI implementations (<a href="../internal/package-summary.html"><code>org.apfloat.internal</code></a>).<p>

The apfloat SPI suggests the usage of various patterns, as encouraged by the
specification of all the interfaces in the SPI. These patterns include:

<ul>
  <li>Abstract factory pattern, for getting instances of the various builders,
      as well as other types of components built by the different builders
      (<a href="ApfloatBuilder.html" title="interface in org.apfloat.spi"><code>ApfloatBuilder</code></a>, <a href="DataStorageBuilder.html" title="interface in org.apfloat.spi"><code>DataStorageBuilder</code></a>,
      <a href="ConvolutionBuilder.html" title="interface in org.apfloat.spi"><code>ConvolutionBuilder</code></a>, <a href="NTTBuilder.html" title="interface in org.apfloat.spi"><code>NTTBuilder</code></a>).</li>
  <li>Factory method pattern; obviously the abstract factories use factory
      methods to create instances of objects.</li>
  <li>Builder pattern: an <a href="ApfloatImpl.html" title="interface in org.apfloat.spi"><code>ApfloatImpl</code></a> needs various
      "parts" for its structural construction (<a href="DataStorage.html" title="class in org.apfloat.spi"><code>DataStorage</code></a>)
      as well as its behavior (<a href="ConvolutionStrategy.html" title="interface in org.apfloat.spi"><code>ConvolutionStrategy</code></a>). Builders
      are used to build the different sub-parts needed, and the ApfloatImpl
      itself only knows the high-level algorithm for how the parts are used and
      related. The construction of the sub-part details is left for the
      builders, and the ApfloatImpl accesses the parts only via an interface.</li>
  <li>Strategy pattern: for multiplying numbers, completely different algorithms
      are optimal, depending on the size of the numbers. The
      <a href="ConvolutionStrategy.html" title="interface in org.apfloat.spi"><code>ConvolutionStrategy</code></a> defines different convolution
      algorithms to be used in the multiplication. For very large numbers, a
      transform-based convolution can be used, and even a different transform
      strategy can be specified via the <a href="NTTStrategy.html" title="interface in org.apfloat.spi"><code>NTTStrategy</code></a>
      interface.</li>
  <li>Iterators are used for iterating through <a href="DataStorage.html" title="class in org.apfloat.spi"><code>DataStorage</code></a>
      elements in a highly flexible manner. The base class is
      <a href="DataStorage.Iterator.html" title="class in org.apfloat.spi"><code>DataStorage.Iterator</code></a>. For example, a data storage that
      uses a simple array to store the entire data set in memory can return
      a simple iterator that goes through the array element by element. In
      comparison, a data storage that stores the data in a disk file, can have
      an iterator that reads blocks of data from the file to a memory array,
      and then iterates through the array, one block at a time.</li>
  <li>Singleton pattern, assumed to be used in the <a href="BuilderFactory.html" title="interface in org.apfloat.spi"><code>BuilderFactory</code></a>
      class, as there should be no need to have more than one instance of each
      builder class. Also the BuilderFactory instance itself is a singleton,
      within an <a href="../ApfloatContext.html" title="class in org.apfloat"><code>ApfloatContext</code></a>.</li>
  <li>Bridge pattern: the SPI itself is the bridge pattern. An <a href="../Apfloat.html" title="class in org.apfloat"><code>Apfloat</code></a>
      provides a simple high-level programming interface and the complex technical
      implementation details are delegated to an <a href="ApfloatImpl.html" title="interface in org.apfloat.spi"><code>ApfloatImpl</code></a>.
      The Apfloat class can be subclassed for additional functionality, and independent
      of that, different subclasses of an ApfloatImpl can be used to optimize the
      implementation.</li>
</ul>

Associations of the SPI classes are shown in a class diagram format below:<p>

<img src="doc-files/spi-classes.gif" alt="Class diagram"><p>

The class implementing <a href="BuilderFactory.html" title="interface in org.apfloat.spi"><code>BuilderFactory</code></a> that is used in
creating apfloat implementations is defined in the <a href="../ApfloatContext.html" title="class in org.apfloat"><code>ApfloatContext</code></a>.
You can set the BuilderFactory instance programmatically by calling
<a href="../ApfloatContext.html#setBuilderFactory(org.apfloat.spi.BuilderFactory)"><code>ApfloatContext.setBuilderFactory(BuilderFactory)</code></a>,
for example:

<pre>
BuilderFactory builderFactory = new MyBuilderFactory();
ApfloatContext.getContext().setBuilderFactory(builderFactory);
</pre>

It's a lot easier to specify this to happen automatically whenever your program
starts. To do this just specify the BuilderFactory class name in the
<code>apfloat.properties</code> file (or the apfloat ResourceBundle if you use one).
For example, the <code>apfloat.properties</code> file might contain the line:

<pre>
builderFactory=org.mycompany.MyBuilderFactory
</pre>

For more details about configuring the apfloat BuilderFactory, see the
documentation for <a href="../ApfloatContext.html" title="class in org.apfloat"><code>ApfloatContext</code></a>.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd><a href="../internal/package-summary.html"><code>org.apfloat.internal</code></a></dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<li>
<div class="caption"><span>Interface Summary</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Interface</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><a href="AdditionBuilder.html" title="interface in org.apfloat.spi">AdditionBuilder</a>&lt;T&gt;</div>
<div class="col-last even-row-color">
<div class="block">Interface of a factory for creating addition strategies.</div>
</div>
<div class="col-first odd-row-color"><a href="AdditionStrategy.html" title="interface in org.apfloat.spi">AdditionStrategy</a>&lt;T&gt;</div>
<div class="col-last odd-row-color">
<div class="block">Generic addition strategy.</div>
</div>
<div class="col-first even-row-color"><a href="ApfloatBuilder.html" title="interface in org.apfloat.spi">ApfloatBuilder</a></div>
<div class="col-last even-row-color">
<div class="block">An ApfloatBuilder contains factory methods to create
 new instances of <a href="ApfloatImpl.html" title="interface in org.apfloat.spi"><code>ApfloatImpl</code></a> implementations.</div>
</div>
<div class="col-first odd-row-color"><a href="ApfloatImpl.html" title="interface in org.apfloat.spi">ApfloatImpl</a></div>
<div class="col-last odd-row-color">
<div class="block">Interface for apfloat implementations.</div>
</div>
<div class="col-first even-row-color"><a href="BuilderFactory.html" title="interface in org.apfloat.spi">BuilderFactory</a></div>
<div class="col-last even-row-color">
<div class="block">A <code>BuilderFactory</code> object contains factory methods for building
 the various parts of an apfloat using the Builder pattern.</div>
</div>
<div class="col-first odd-row-color"><a href="CarryCRTBuilder.html" title="interface in org.apfloat.spi">CarryCRTBuilder</a>&lt;T&gt;</div>
<div class="col-last odd-row-color">
<div class="block">Interface of a factory for creating carry-CRT related objects.</div>
</div>
<div class="col-first even-row-color"><a href="CarryCRTStepStrategy.html" title="interface in org.apfloat.spi">CarryCRTStepStrategy</a>&lt;T&gt;</div>
<div class="col-last even-row-color">
<div class="block">Interface for performing the steps of a carry-CRT operation in a convolution.</div>
</div>
<div class="col-first odd-row-color"><a href="CarryCRTStrategy.html" title="interface in org.apfloat.spi">CarryCRTStrategy</a></div>
<div class="col-last odd-row-color">
<div class="block">Interface for performing the final step of a three-modulus
 Number Theoretic Transform based convolution.</div>
</div>
<div class="col-first even-row-color"><a href="ConvolutionBuilder.html" title="interface in org.apfloat.spi">ConvolutionBuilder</a></div>
<div class="col-last even-row-color">
<div class="block">Interface of a factory for creating convolutors.</div>
</div>
<div class="col-first odd-row-color"><a href="ConvolutionStrategy.html" title="interface in org.apfloat.spi">ConvolutionStrategy</a></div>
<div class="col-last odd-row-color">
<div class="block">Generic convolution strategy.</div>
</div>
<div class="col-first even-row-color"><a href="DataStorageBuilder.html" title="interface in org.apfloat.spi">DataStorageBuilder</a></div>
<div class="col-last even-row-color">
<div class="block">Interface for determining a suitable storage
 type for data of some expected size.</div>
</div>
<div class="col-first odd-row-color"><a href="ExecutionBuilder.html" title="interface in org.apfloat.spi">ExecutionBuilder</a></div>
<div class="col-last odd-row-color">
<div class="block">Interface of a factory for creating execution related objects.</div>
</div>
<div class="col-first even-row-color"><a href="ExecutionStrategy.html" title="interface in org.apfloat.spi">ExecutionStrategy</a></div>
<div class="col-last even-row-color">
<div class="block">Thread execution operations.</div>
</div>
<div class="col-first odd-row-color"><a href="Factor3NTTStepStrategy.html" title="interface in org.apfloat.spi">Factor3NTTStepStrategy</a></div>
<div class="col-last odd-row-color">
<div class="block">Steps for the factor-3 NTT.</div>
</div>
<div class="col-first even-row-color"><a href="MatrixBuilder.html" title="interface in org.apfloat.spi">MatrixBuilder</a></div>
<div class="col-last even-row-color">
<div class="block">Interface of a factory for creating matrix related objects.</div>
</div>
<div class="col-first odd-row-color"><a href="MatrixStrategy.html" title="interface in org.apfloat.spi">MatrixStrategy</a></div>
<div class="col-last odd-row-color">
<div class="block">Matrix operations.</div>
</div>
<div class="col-first even-row-color"><a href="NTTBuilder.html" title="interface in org.apfloat.spi">NTTBuilder</a></div>
<div class="col-last even-row-color">
<div class="block">Interface of a factory for creating Number Theoretic Transforms.</div>
</div>
<div class="col-first odd-row-color"><a href="NTTConvolutionStepStrategy.html" title="interface in org.apfloat.spi">NTTConvolutionStepStrategy</a></div>
<div class="col-last odd-row-color">
<div class="block">Steps for a three-NTT convolution.</div>
</div>
<div class="col-first even-row-color"><a href="NTTStepStrategy.html" title="interface in org.apfloat.spi">NTTStepStrategy</a></div>
<div class="col-last even-row-color">
<div class="block">Steps for the six-step or two-pass NTT.</div>
</div>
<div class="col-first odd-row-color"><a href="NTTStrategy.html" title="interface in org.apfloat.spi">NTTStrategy</a></div>
<div class="col-last odd-row-color">
<div class="block">Number Theoretic Transform (NTT) strategy.</div>
</div>
<div class="col-first even-row-color"><a href="RadixConstants.html" title="interface in org.apfloat.spi">RadixConstants</a></div>
<div class="col-last even-row-color">
<div class="block">Constants related to different radixes.</div>
</div>
</div>
</li>
<li>
<div class="caption"><span>Class Summary</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><a href="ArrayAccess.html" title="class in org.apfloat.spi">ArrayAccess</a></div>
<div class="col-last even-row-color">
<div class="block">The <code>ArrayAccess</code> class simulates a <code>C</code> language pointer.</div>
</div>
<div class="col-first odd-row-color"><a href="DataStorage.html" title="class in org.apfloat.spi">DataStorage</a></div>
<div class="col-last odd-row-color">
<div class="block">Generic data storage class.</div>
</div>
<div class="col-first even-row-color"><a href="DataStorage.Iterator.html" title="class in org.apfloat.spi">DataStorage.Iterator</a></div>
<div class="col-last even-row-color">
<div class="block">Iterator for iterating through elements of the data storage.</div>
</div>
<div class="col-first odd-row-color"><a href="FilenameGenerator.html" title="class in org.apfloat.spi">FilenameGenerator</a></div>
<div class="col-last odd-row-color">
<div class="block">Class for generating filenames for temporary files.</div>
</div>
<div class="col-first even-row-color"><a href="Util.html" title="class in org.apfloat.spi">Util</a></div>
<div class="col-last even-row-color">
<div class="block">Miscellaneous utility methods.</div>
</div>
</div>
</li>
</ul>
</section>
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2021. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
